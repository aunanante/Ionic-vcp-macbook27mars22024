<ion-header>
  <ion-toolbar>
    <ion-title>Products</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="openUpdateProductModal()" color="primary">
        Edit
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ion-grid class="grid-container">
    <ion-row>
      <ion-col size="6" class="column">
        commerces
      </ion-col>
      <ion-col size="6" class="column">
        categories
      </ion-col>
    </ion-row>
    <ion-row>
      <!-- Left column for commerces -->
      <ion-col size="6" class="column">
        <div scrolly="true" style="max-height: 100px">
          <ion-list *ngIf="commerces.length > 0" class="list">
            <ion-item *ngFor="let commerce of commerces" class="item" [class.selected-commerce]="commerce.id === selectedCommerceId" (click)="onCommerceClick(commerce.id)">
              {{ commerce.commercename }}
            </ion-item>
          </ion-list>
          <!-- Display message if no commerces found -->
          <div *ngIf="commerces.length === 0" class="no-commerces-message">
            <p>No commerces found.</p>
          </div>
        </div>
      </ion-col>

      <!-- Vertical border between columns -->
      <!-- <ion-col size="1" class="vertical-border"></ion-col> -->

      <!-- Right column for categories -->
      <ion-col size="6" class="column">
        <div scrolly="true" style="max-height: 100px">
          <ion-list *ngIf="categories.length > 0" class="list">
            <ion-item *ngFor="let category of categories" class="item" [class.selected-category]="category.id === selectedCategoryId" (click)="onCategoryClick(category)">
              {{ category.categoryname }}
            </ion-item>
          </ion-list>
          <!-- Display message if no categories found -->
          <div *ngIf="categories.length === 0" class="no-categories-message">
            <p>No categories found.</p>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid class="grid-container">
    <ion-row>
      <ion-col size="12" class="column">
        products
      </ion-col>
      
    </ion-row>
    <ion-row *ngIf="products.length > 0">
      <ion-col size="12" class="column">
        <div scrolly="true" style="max-height: 100px">
          <ion-list *ngIf="products.length > 0" class="list">
            <ion-item *ngFor="let product of products" class="item" [class.selected-product]="product.id === selectedProductId" (click)="onProductClick(product.id)">
              {{ product.productname }}
            </ion-item>
          </ion-list>
          <!-- Display message if no products found -->
          <div *ngIf="products.length === 0" class="no-products-message">
            <p>No products found.</p>
          </div>
        </div>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="products.length === 0">
      <ion-col size="12">
        <p>No products available.</p>
      </ion-col>
    </ion-row>
  </ion-grid>

  <form [formGroup]="productForm" *ngIf="selectedProductId">
    <ion-item>
      <!-- <ion-label>Image:</ion-label> -->
      <!-- Use ion-img to display the image -->
      <ion-img [src]="productForm.get('image_product')?.value"></ion-img>
    </ion-item>
    <ion-item>
      <ion-label>Product Name : </ion-label>
      <ion-input formControlName="productname" readonly></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Reference : </ion-label>
      <ion-input formControlName="reference" readonly></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Price : </ion-label>
      <ion-input formControlName="price" type="number" readonly></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Description : </ion-label>
      <ion-textarea formControlName="description" readonly></ion-textarea>
    </ion-item>
    
  </form>
  

  <!-- Fab button -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="openProductModalAddPage()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
